{
    "AP62270_AP62270_staging_bnp_http_tcp_80": {
        "class": "Application",
        "template": "generic",
        "HTTP_AP62270_AP62270_staging_bnpparisbas_test1": {
            "class": "Monitor",
            "adaptive": false,
            "monitorType": "http",
            "receive": "^HTTP/1.. 1..|^HTTP/1.. 2..|^HTTP/1.. 3..",
            "send": "GET /test1 HTTP/1.1\\r\\nHost:AP62270.staging.bnpparisbas\\r\\nConnection: Close\\r\\n\\r\\n"
        },
        "HTTP_AP62270_AP62270_staging_bnpparisbas_test2": {
            "class": "Monitor",
            "adaptive": false,
            "monitorType": "http",
            "receive": "^HTTP/1.. 1..|^HTTP/1.. 2..|^HTTP/1.. 3..",
            "send": "GET /test2 HTTP/1.1\\r\\nHost:AP62270.staging.bnpparisbas\\r\\nConnection: Close\\r\\n\\r\\n"
        },
        "HTTP_POL_AP62270_AP62270_staging_bnpparisbas": {
            "class": "Endpoint_Policy",
            "rules": [
                {
                    "name": "AP62270_staging_bnpparisbas_test1",
                    "actions": [
                        {
                            "event": "request",
                            "select": {
                                "pool": {
                                    "use": "P_AP62270_staging_bnpparisbas_test1_http_80"
                                }
                            },
                            "type": "forward"
                        },
                        {
                            "event": "response",
                            "insert": {
                                "name": "X-XSS-Protection",
                                "value": "1; mode=block"
                            },
                            "type": "httpHeader"
                        },
                        {
                            "event": "response",
                            "insert": {
                                "name": "X-Frame-Options",
                                "value": "SAMEORIGIN"
                            },
                            "type": "httpHeader"
                        },
                        {
                            "event": "response",
                            "insert": {
                                "name": "X-Content-Type-Options",
                                "value": "nosniff"
                            },
                            "type": "httpHeader"
                        },
                        {
                            "event": "response",
                            "insert": {
                                "name": "X-Content-Security-Policy",
                                "value": "default-src 'self'"
                            },
                            "type": "httpHeader"
                        }
                    ],
                    "conditions": [
                        {
                            "name": "Host",
                            "all": {
                                "operand": "starts-with",
                                "values": [
                                    "AP62270.staging.bnpparisbas"
                                ]
                            },
                            "event": "request",
                            "type": "httpHeader"
                        },
                        {
                            "all": {
                                "operand": "starts-with",
                                "values": [
                                    "/test1"
                                ]
                            },
                            "event": "request",
                            "type": "httpUri"
                        }
                    ]
                },
                {
                    "name": "AP62270_staging_bnpparisbas_test2",
                    "actions": [
                        {
                            "event": "request",
                            "select": {
                                "pool": {
                                    "use": "P_AP62270_staging_bnpparisbas_test2_http_80"
                                }
                            },
                            "type": "forward"
                        },
                        {
                            "event": "response",
                            "insert": {
                                "name": "X-XSS-Protection",
                                "value": "1; mode=block"
                            },
                            "type": "httpHeader"
                        },
                        {
                            "event": "response",
                            "insert": {
                                "name": "X-Frame-Options",
                                "value": "SAMEORIGIN"
                            },
                            "type": "httpHeader"
                        },
                        {
                            "event": "response",
                            "insert": {
                                "name": "X-Content-Type-Options",
                                "value": "nosniff"
                            },
                            "type": "httpHeader"
                        },
                        {
                            "event": "response",
                            "insert": {
                                "name": "X-Content-Security-Policy",
                                "value": "default-src 'self'"
                            },
                            "type": "httpHeader"
                        }
                    ],
                    "conditions": [
                        {
                            "name": "Host",
                            "all": {
                                "operand": "starts-with",
                                "values": [
                                    "AP62270.staging.bnpparisbas"
                                ]
                            },
                            "event": "request",
                            "type": "httpHeader"
                        },
                        {
                            "all": {
                                "operand": "starts-with",
                                "values": [
                                    "/test2"
                                ]
                            },
                            "event": "request",
                            "type": "httpUri"
                        }
                    ]
                }
            ]
        },
        "P_AP62270_staging_bnpparisbas_test1_http_80": {
            "class": "Pool",
            "loadBalancingMode": "least-connections-member",
            "members": [
                {
                    "adminState": "enable",
                    "enable": true,
                    "priorityGroup": 10,
                    "serverAddresses": [
                        "10.215.130.10"
                    ],
                    "servicePort": 80,
                    "shareNodes": true
                },
                {
                    "adminState": "enable",
                    "enable": true,
                    "priorityGroup": 10,
                    "serverAddresses": [
                        "10.215.130.11"
                    ],
                    "servicePort": 80,
                    "shareNodes": true
                }
            ],
            "minimumMembersActive": 0,
            "monitors": [
                {
                    "use": "HTTP_AP62270_AP62270_staging_bnpparisbas_test1"
                }
            ]
        },
        "P_AP62270_staging_bnpparisbas_test2_http_80": {
            "class": "Pool",
            "loadBalancingMode": "least-connections-member",
            "members": [
                {
                    "adminState": "enable",
                    "enable": true,
                    "priorityGroup": 10,
                    "serverAddresses": [
                        "10.215.130.10"
                    ],
                    "servicePort": 80,
                    "shareNodes": true
                },
                {
                    "adminState": "enable",
                    "enable": true,
                    "priorityGroup": 10,
                    "serverAddresses": [
                        "10.215.130.11"
                    ],
                    "servicePort": 80,
                    "shareNodes": true
                }
            ],
            "minimumMembersActive": 0,
            "monitors": [
                {
                    "use": "HTTP_AP62270_AP62270_staging_bnpparisbas_test2"
                }
            ]
        },
        "PrfCompress_AP62270_AP62270_staging_bnpparisbas": {
            "class": "HTTP_Compress",
            "contentTypeIncludes": [
                "text/",
                "application/(xml|json|x-javascript|javascript)"
            ],
            "gzipLevel": 6,
            "uriIncludes": [
                ".*"
            ]
        },
        "PrfCookie_AP62270_AP62270_staging_bnpparisbas": {
            "class": "Persist",
            "cookieMethod": "insert",
            "persistenceMethod": "cookie"
        },
        "PrfHTTP_AP62270_AP62270_staging_bnpparisbas": {
            "class": "HTTP_Profile",
            "serverHeaderValue": "SPI",
            "xForwardedFor": true
        },
        "PrfOC_AP62270_AP62270_staging_bnpparisbas": {
            "class": "Multiplex_Profile",
            "sourceMask": "255.255.255.255"
        },
        "V_AP62270_AP62270_staging_bnp_http_tcp_80": {
            "class": "Service_HTTP",
            "remark": "AP62270.staging.bnpparisbas",
            "persistenceMethods": [
                {
                    "use": "PrfCookie_AP62270_AP62270_staging_bnpparisbas"
                }
            ],
            "policyEndpoint": "HTTP_POL_AP62270_AP62270_staging_bnpparisbas",
            "profileHTTP": {
                "use": "PrfHTTP_AP62270_AP62270_staging_bnpparisbas"
            },
            "profileHTTPCompression": {
                "use": "PrfCompress_AP62270_AP62270_staging_bnpparisbas"
            },
            "profileMultiplex": {
                "use": "PrfOC_AP62270_AP62270_staging_bnpparisbas"
            },
            "securityLogProfiles": [
                {
                    "bigip": "/Common/logprofile_dos"
                }
            ],
            "snat": "auto",
            "virtualAddresses": [
                "172.20.0.4"
            ],
            "virtualPort": 80
        }
    }
}